<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>menu</title>
    <link rel="stylesheet" href="../../lib/layui-v2.5.5/css/layui.css" media="all">
    <link rel="stylesheet" href="../../css/public.css" media="all">
    <style>
        .layui-btn:not(.layui-btn-lg ):not(.layui-btn-sm):not(.layui-btn-xs) {
            height: 34px;
            line-height: 34px;
            padding: 0 8px;
        }
        div{
            margin-top: 10px;
        }
        span{
            font-size:20px;
        }
    </style>
</head>
<body>
<div class="layuimini-container">

    <div class="layuimini-main">

        <div class="title">
            <h1 style="font-weight:bold;">局部可解释性分析</h1>
        </div>

        <div class="content_header" style="text-align:right;">
            <span >
                局部可解释性分析回答的问题是：关于某一个客户样本的预测，每一个特征是如何影响到最终的预测结果的。
            </span><br>
        </div>

        <div style="text-align:left;">
            <span >以下分析从测试集中随机抽取一个样本数据进行分析:</span>
        </div>

        <div style="text-align:center;" class="img">
            <img src="/images/custInfo-shap_value.png" height="20%"
                 width="20%"/>
        </div>

        <div class="analysis">
            <span style="font-weight:bold;">上表的shap value值是概率的logit值。</span><br>
        </div>

        <div style="text-align:center;" class="img">
            <img src="/images/custInfo-shap_value-graph.png" height="90%"
                 width="90%"/>
        </div>

        <div class="analysis_header">
            <span style="font-weight:bold;">图形解释：</span><br>

            <span>
                ·Base value: 模型在整个测试集的数据均值（logit值）:-7.445
            </span><br>
            <span>
                ·Output value: 模型在单个样本的预测值（logit值）：-10.26
            </span><br>
            <span>
                ·起正向作用的特征（红色部分，按从大到小排）：balance，poutcome，gender
            </span><br>
            <span>
                ·起负向作用的特征（蓝色部分，按从大到小排）：duration，education，day，pdays，
                age，housing，job
            </span><br>
        </div>

        <div class="analysis">
            <span style="font-weight:bold;">特征解释：</span><br>

            <span>
                ·解释output value(单个样本)和base value（全体样本shap平均值）的差异，以及差异是由哪些特征造成的。
            </span><br>
            <span>
                ·Base value + 全部特征的shap value = output value
            </span><br>
        </div>
    </div>

</div>

<script src="../../lib/layui-v2.5.5/layui.js" charset="utf-8"></script>
<script src="../../js/lay-config.js?v=1.0.4" charset="utf-8"></script>
<script>
    layui.use(['layer', 'table', 'treetable', 'jquery', 'form'], function () {
        var $ = layui.jquery;
        var table = layui.table;
        var form = layui.form;
        var currPage = 1;
        var layer = layui.layer;

        //实现点击图片可以放大
        $(function () {
            $(".img img").on("click", function () {
                layer.photos({
                    photos: '.img', //必须绑定包裹住img的div控件
                    shadeClose: true, //开启后，点击遮罩层可以关闭图片，无需点击右上角的X
                    closeBtn: 2,
                    anim: 0
                });
            })
        })





    });
</script>
</body>
</html>